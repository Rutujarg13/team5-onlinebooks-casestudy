<div class="container">
    <div>
<h6>Create New Discount</h6>
<form class="form-inline" action="/action_page.php">
    <div class="input-group ">
  <div class="form-group">
    <select class="form-control" id="book" [(ngModel)]="bookId" [ngModelOptions]="{standalone: true}">
    <option hidden>Select Book</option>
      <option *ngFor="let book of books" [value]="book.book_id">{{book.title}} {{book.publisher}} {{book.price}}</option>
    </select>
  </div>
  <div class="form-group">
    <input type="number" class="form-control" id="discount" [(ngModel)]="discount" [ngModelOptions]="{standalone: true}" placeholder="Discount %" required>
  </div>
  <button type="submit" class="btn btn-primary" (click)="addDiscount()">Add</button>
</div>
</form>
</div>
<div>
    <h6 class="mt-5">Edit/Delete Discounts</h6>
    <input type="text" class="form-control mt-5 mb-5" id="search" placeholder="Search"> 
</div>
<div>
    <table class="table table-bordered">
        <thead>
          <tr>
            <th>Title</th>
            <th>Author</th>
            <th>Publisher</th>
            <th>Category</th>
            <th>Price</th>
            <th>Discount (%)</th>
            <th>Update</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
    
          <tr *ngFor="let book of discounts">
            <td>{{book.title}}</td>
            <table>
            <tr *ngFor="let author of booksAuthors"> 
             <td *ngIf="author.book_id===book.book_id">{{author.first_name}} {{author.last_name}}</td>
         </tr>
          </table>
            <td>{{book.publisher_name}}</td>
            <td>{{book.category_name}}</td>
            <td>{{book.price | currency:'INR'}}</td>
            <td><input type="number" [placeholder]="book.discount"></td>
            <td><button class="btn btn-warning" (click)="updateDiscount()">Update</button></td>
            <td><button class="btn btn-danger" (click)="deleteDiscount(book.book_id)">Delete</button></td>
          </tr>
        </tbody>
      </table>
</div>
</div>
